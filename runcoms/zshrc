#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

##### Aliases #####

## homebrew and cask
alias brewf='brew info'
alias caskf='brew cask info'
# calls https://github.com/buo/homebrew-cask-upgrade
alias casku='brew cu'

## git
alias gws='git status --ignore-submodules=${_git_status_ignore_submodules}'
alias gwS='git status --ignore-submodules=${_git_status_ignore_submodules} --short'
alias gds='git diff --staged'

## ipython
alias ipython='ipython3'
alias ipy='ipython'
alias ipy2='ipython2'
alias ipy3='ipython3'

## jupyter
alias jpn='jupyter notebook'

## pip
alias pipi='pip install --upgrade'
alias pip3i='pip3 install --upgrade'
alias pipl='pip list'
alias pip3l='pip3 list'
alias pipo='pip list --outdated'
alias pip3o='pip3 list --outdated'

## pyenv
alias pyenvg='pyenv global'
alias pyenvi='pyenv install'
alias pyenvil='pyenv install --list'
alias pyenvl='pyenv local'
alias pyenvs='pyenv versions'
alias pyenvv='pyenv version'
alias pyenvr='pyenv rehash'

## emacs
alias emacs='open -a /usr/local/opt/emacs-mac/Emacs.app'
alias emacsterm='/usr/local/bin/emacs'
alias emacsdebug='open -a /usr/local/opt/emacs-mac/Emacs.app --args --debug-init'
alias emacsq='open -a /usr/local/opt/emacs-mac/Emacs.app --args -q'
alias emacstermq='/usr/local/bin/emacs -q'
# symlink emacs cask here to avoid clash with brew cask
alias ecask='/usr/local/bin/cask'

## general
alias cll='clear & ll'


#### Language ENVs ####

# rbenv
# if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi

# pyenv
if which pyenv > /dev/null; then eval "$(pyenv init -)"; fi
# source ~/.pyenv/completions/pyenv.zsh
eval "$(pyenv virtualenv-init -)"


#### Utilities ####

# autojump
[[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] && . $(brew --prefix)/etc/profile.d/autojump.sh

# homebrew command-not-found
# https://github.com/Homebrew/homebrew-command-not-found
if brew command command-not-found-init > /dev/null; then eval "$(brew command-not-found-init)"; fi

# general zsh completions
# https://github.com/zsh-users/zsh-completions
fpath=(/usr/local/share/zsh-completions $fpath)

# amazon web services (awscli) completions
source /usr/local/share/zsh/site-functions/_aws

# iterm2 v3 shell integration
test -e ${HOME}/.iterm2_shell_integration.zsh && source ${HOME}/.iterm2_shell_integration.zsh
